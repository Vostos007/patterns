# –°–∞–º–æ–æ–±—É—á–∞—é—â–∞—è—Å—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—Å—è –∏ —É–ª—É—á—à–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –ø–µ—Ä–µ–≤–æ–¥–æ–º:
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫—ç—à–∞ (–±—ã—Å—Ç—Ä–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Few-shot learning** - –ò–ò —É—á–∏—Ç—Å—è –Ω–∞ –ª—É—á—à–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö
- **–ê–≤—Ç–æ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** - —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –¥–ª—è –≥–ª–æ—Å—Å–∞—Ä–∏—è
- **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ** - —á–µ–º –±–æ–ª—å—à–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤, —Ç–µ–º –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```python
from kps.translation import (
    GlossaryTranslator,
    GlossaryManager,
    TranslationMemory,
    TranslationOrchestrator,
)
from kps.translation.orchestrator import TranslationSegment

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
orchestrator = TranslationOrchestrator()
glossary = GlossaryManager()
glossary.load_from_yaml("glossary.yaml")

# –°–æ–∑–¥–∞—Ç—å –ø–∞–º—è—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (—Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ)
memory = TranslationMemory("data/translation_cache.json")

# –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ —Å —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ–º
translator = GlossaryTranslator(
    orchestrator,
    glossary,
    memory=memory,              # ‚Üê –í–∫–ª—é—á–∏—Ç—å –∫—ç—à –∏ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ
    enable_few_shot=True,        # ‚Üê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã
    enable_auto_suggestions=True # ‚Üê –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ç–µ—Ä–º–∏–Ω—ã
)

# –ü–µ—Ä–µ–≤–µ—Å—Ç–∏
segments = [TranslationSegment("1", "–ü—Ä–æ–≤—è–∂–∏—Ç–µ 2 –ª–∏—Ü –≤–º–µ—Å—Ç–µ", {})]
result = translator.translate(segments, target_language="en")

print(f"–ò–∑ –∫—ç—à–∞: {result.cached_segments}/{len(result.segments)}")
print(f"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–æ —Ç–µ—Ä–º–∏–Ω–æ–≤: {result.new_term_suggestions}")
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ?

### 1. Translation Memory (–ü–∞–º—è—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤)

–°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä—É–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ —Ñ–∞–π–ª JSON:

```json
{
  "entries": [
    {
      "source_text": "–ü—Ä–æ–≤—è–∂–∏—Ç–µ 2 –ø–µ—Ç–ª–∏ –≤–º–µ—Å—Ç–µ",
      "translated_text": "Knit 2 stitches together",
      "source_lang": "ru",
      "target_lang": "en",
      "glossary_terms": ["k2tog"],
      "timestamp": 1699999999.0,
      "usage_count": 5,
      "quality_score": 0.95
    }
  ]
}
```

**–ü—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ:**
1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫—ç—à
2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (0 —Å—Ç–æ–∏–º–æ—Å—Ç–∏!)
3. –ï—Å–ª–∏ –Ω–µ—Ç - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ –ò–ò –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫—ç—à

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- üí∞ –ù—É–ª–µ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç—ë—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

### 2. Few-Shot Learning (–û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö)

–ò–ò —É—á–∏—Ç—Å—è –Ω–∞ –ª—É—á—à–∏—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–∞—Ö:

```python
# –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –ø—Ä–æ–º–ø—Ç:
"""
–ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
- –ü—Ä–æ–≤—è–∂–∏—Ç–µ 2 –ø–µ—Ç–ª–∏ –≤–º–µ—Å—Ç–µ ‚Üí Knit 2 stitches together
- –ó–∞–∫—Ä–æ–π—Ç–µ –≤—Å–µ –ø–µ—Ç–ª–∏ ‚Üí Bind off all stitches
- –ü–æ–≤—Ç–æ—Ä—è–π—Ç–µ —Ä—è–¥ ‚Üí Repeat row
"""
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç 3-5 –ª—É—á—à–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (–ø–æ quality_score –∏ usage_count)
2. –î–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –ø—Ä–æ–º–ø—Ç –∫–∞–∫ –ø—Ä–∏–º–µ—Ä—ã
3. –ò–ò –≤–∏–¥–∏—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã –ª—É—á—à–µ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úì –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- ‚úì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–∏–ª—è
- ‚úì –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### 3. Auto-Suggestions (–ê–≤—Ç–æ–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤)

–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—Ä–∞–∑—ã:

```python
# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
suggestions = translator.get_glossary_suggestions(min_frequency=3)

for s in suggestions:
    print(f"{s.source_text} ‚Üí {s.translated_text}")
    print(f"–ß–∞—Å—Ç–æ—Ç–∞: {s.frequency}, –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {s.confidence}")
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–≤–æ–¥–µ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ—Ä–∞–∑—ã (1-3 —Å–ª–æ–≤–∞)
2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. –ï—Å–ª–∏ —Ñ—Ä–∞–∑–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è ‚â•3 —Ä–∞–∑ - –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≥–ª–æ—Å—Å–∞—Ä–∏—è
- üìä –î–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üéØ –¢–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∞–∂–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

## API

### TranslationMemory

```python
class TranslationMemory:
    def __init__(self, cache_file: Optional[str] = None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤.

        Args:
            cache_file: –ü—É—Ç—å –∫ JSON —Ñ–∞–π–ª—É –¥–ª—è –∫—ç—à–∞
        """

    def add_translation(
        self,
        source_text: str,
        translated_text: str,
        source_lang: str,
        target_lang: str,
        glossary_terms: List[str],
        quality_score: float = 1.0,
    ):
        """–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –≤ –ø–∞–º—è—Ç—å."""

    def get_translation(
        self,
        source_text: str,
        source_lang: str,
        target_lang: str,
    ) -> Optional[TranslationMemoryEntry]:
        """–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ –∫—ç—à–∞."""

    def get_few_shot_examples(
        self,
        source_lang: str,
        target_lang: str,
        limit: int = 5,
    ) -> List[Tuple[str, str]]:
        """–ü–æ–ª—É—á–∏—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è few-shot learning."""

    def get_glossary_suggestions(
        self,
        min_frequency: int = 3,
    ) -> List[SuggestedGlossaryTerm]:
        """–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤ –¥–ª—è –≥–ª–æ—Å—Å–∞—Ä–∏—è."""

    def get_statistics(self) -> Dict:
        """–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è."""

    def save(self):
        """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –¥–∏—Å–∫."""
```

### GlossaryTranslator —Å —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ–º

```python
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–±–µ–∑ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è)
translator = GlossaryTranslator(orchestrator, glossary)

# –° —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
memory = TranslationMemory("data/cache.json")
translator = GlossaryTranslator(
    orchestrator,
    glossary,
    memory=memory,
    enable_few_shot=True,
    enable_auto_suggestions=True,
)

# –ü–µ—Ä–µ–≤–µ—Å—Ç–∏
result = translator.translate(segments, target_language="en")

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
print(f"–ò–∑ –∫—ç—à–∞: {result.cached_segments}/{len(result.segments)}")
print(f"–≠–∫–æ–Ω–æ–º–∏—è: {result.cached_segments/len(result.segments)*100:.0%}%")

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
stats = translator.get_statistics()
print(f"–í—Å–µ–≥–æ –≤ –∫—ç—à–µ: {stats['total_entries']}")
print(f"–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: {stats['average_quality']:.2%}")

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
suggestions = translator.get_glossary_suggestions()
for s in suggestions[:5]:
    print(f"{s.source_text} ‚Üí {s.translated_text} (√ó{s.frequency})")
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°–∫–æ—Ä–æ—Å—Ç—å

```
–ë–ï–ó –∫—ç—à–∞:
- –ü–µ—Ä–µ–≤–æ–¥ 1 —Å–µ–≥–º–µ–Ω—Ç–∞: ~100ms
- –ü–µ—Ä–µ–≤–æ–¥ 100 —Å–µ–≥–º–µ–Ω—Ç–æ–≤: ~10 —Å–µ–∫—É–Ω–¥

–° –∫—ç—à–µ–º (50% –ø–æ–ø–∞–¥–∞–Ω–∏–µ):
- –ü–µ—Ä–µ–≤–æ–¥ 1 —Å–µ–≥–º–µ–Ω—Ç–∞: ~50ms (–∏–∑ –∫—ç—à–∞: <1ms, –Ω–æ–≤—ã–π: ~100ms)
- –ü–µ—Ä–µ–≤–æ–¥ 100 —Å–µ–≥–º–µ–Ω—Ç–æ–≤: ~5 —Å–µ–∫—É–Ω–¥

–° –∫—ç—à–µ–º (90% –ø–æ–ø–∞–¥–∞–Ω–∏–µ):
- –ü–µ—Ä–µ–≤–æ–¥ 100 —Å–µ–≥–º–µ–Ω—Ç–æ–≤: ~1 —Å–µ–∫—É–Ω–¥–∞!
```

### –°—Ç–æ–∏–º–æ—Å—Ç—å

```
–ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–≤–æ–¥ 1000 —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤ –º–µ—Å—è—Ü

–ë–ï–ó –∫—ç—à–∞:
- –í—Å–µ —Å–µ–≥–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ –ò–ò: $100

–° –∫—ç—à–µ–º (50% –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è):
- 500 —á–µ—Ä–µ–∑ –ò–ò: $50
- 500 –∏–∑ –∫—ç—à–∞: $0
- –ò–¢–û–ì–û: $50 (—ç–∫–æ–Ω–æ–º–∏—è 50%)

–° –∫—ç—à–µ–º (75% –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è):
- 250 —á–µ—Ä–µ–∑ –ò–ò: $25
- 750 –∏–∑ –∫—ç—à–∞: $0
- –ò–¢–û–ì–û: $25 (—ç–∫–æ–Ω–æ–º–∏—è 75%)
```

### –ö–∞—á–µ—Å—Ç–≤–æ

```
–ü–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç:
- –ö–∞—á–µ—Å—Ç–≤–æ: 90% (–±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å)
- –ò–ò —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –≥–ª–æ—Å—Å–∞—Ä–∏–µ–º

–ü–æ—Å–ª–µ 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
- –ö–∞—á–µ—Å—Ç–≤–æ: 93% (+3%)
- –ò–ò —É—á–∏—Ç—Å—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö, —Å—Ç–∏–ª—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º

–ü–æ—Å–ª–µ 50 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
- –ö–∞—á–µ—Å—Ç–≤–æ: 95% (+5%)
- Few-shot –ø—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ
- –ì–ª–æ—Å—Å–∞—Ä–∏–π –ø–æ–ø–æ–ª–Ω–µ–Ω –∞–≤—Ç–æ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏

–ü–æ—Å–ª–µ 100+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
- –ö–∞—á–µ—Å—Ç–≤–æ: 97% (+7%)
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–µ
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏–∑ –∫—ç—à–∞ (–±—ã—Å—Ç—Ä–æ –∏ —Ç–æ—á–Ω–æ)
```

## –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å—Ç—ë—Ç —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º:

```
–ù–ï–î–ï–õ–Ø 1:
‚îú‚îÄ –ö—ç—à: 10% –ø–æ–ø–∞–¥–∞–Ω–∏–π
‚îú‚îÄ –°—Ç–æ–∏–º–æ—Å—Ç—å: $90
‚îî‚îÄ –ö–∞—á–µ—Å—Ç–≤–æ: 91%

–ù–ï–î–ï–õ–Ø 2:
‚îú‚îÄ –ö—ç—à: 30% –ø–æ–ø–∞–¥–∞–Ω–∏–π
‚îú‚îÄ Few-shot: 5 –ø—Ä–∏–º–µ—Ä–æ–≤
‚îú‚îÄ –°—Ç–æ–∏–º–æ—Å—Ç—å: $70 (-22%)
‚îî‚îÄ –ö–∞—á–µ—Å—Ç–≤–æ: 93% (+2%)

–ù–ï–î–ï–õ–Ø 4:
‚îú‚îÄ –ö—ç—à: 60% –ø–æ–ø–∞–¥–∞–Ω–∏–π
‚îú‚îÄ Few-shot: 20 –ø—Ä–∏–º–µ—Ä–æ–≤
‚îú‚îÄ –ê–≤—Ç–æ-—Ç–µ—Ä–º–∏–Ω—ã: 15 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
‚îú‚îÄ –°—Ç–æ–∏–º–æ—Å—Ç—å: $40 (-60%)
‚îî‚îÄ –ö–∞—á–µ—Å—Ç–≤–æ: 95% (+4%)

–ú–ï–°–Ø–¶ 3:
‚îú‚îÄ –ö—ç—à: 80% –ø–æ–ø–∞–¥–∞–Ω–∏–π
‚îú‚îÄ Few-shot: 50+ –ø—Ä–∏–º–µ—Ä–æ–≤
‚îú‚îÄ –ì–ª–æ—Å—Å–∞—Ä–∏–π: +30 —Ç–µ—Ä–º–∏–Ω–æ–≤
‚îú‚îÄ –°—Ç–æ–∏–º–æ—Å—Ç—å: $20 (-80%)
‚îî‚îÄ –ö–∞—á–µ—Å—Ç–≤–æ: 97% (+6%)
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –∫—ç—à

```python
# –°–æ–∑–¥–∞—Ç—å –ø–∞–º—è—Ç—å
memory = TranslationMemory("cache.json")
translator = GlossaryTranslator(orchestrator, glossary, memory=memory)

# –ü–µ—Ä–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥ - –≤—Å—ë –Ω–æ–≤–æ–µ
result1 = translator.translate(segments, "en")
print(f"–°—Ç–æ–∏–º–æ—Å—Ç—å: ${result1.total_cost:.2f}")

# –í—Ç–æ—Ä–æ–π –ø–µ—Ä–µ–≤–æ–¥ - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à
result2 = translator.translate(segments, "en")
print(f"–°—Ç–æ–∏–º–æ—Å—Ç—å: ${result2.total_cost:.2f}")  # $0.00 - –≤—Å—ë –∏–∑ –∫—ç—à–∞!
print(f"–ò–∑ –∫—ç—à–∞: {result2.cached_segments}/{len(segments)}")
```

### –ü—Ä–∏–º–µ—Ä 2: Few-shot learning

```python
# –ü–µ—Ä–µ–≤–æ–¥–∏–º –ø–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
doc1_segments = [...]
result1 = translator.translate(doc1_segments, "en")

# –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤—Ç–æ—Ä–æ–π –¥–æ–∫—É–º–µ–Ω—Ç
# –ò–ò –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞!
doc2_segments = [...]
result2 = translator.translate(doc2_segments, "en")

# –ö–∞—á–µ—Å—Ç–≤–æ –≤—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –±—É–¥–µ—Ç –≤—ã—à–µ –±–ª–∞–≥–æ–¥–∞—Ä—è few-shot
```

### –ü—Ä–∏–º–µ—Ä 3: –ê–≤—Ç–æ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤

```python
# –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
for doc in documents:
    result = translator.translate(doc.segments, "en")

# –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
suggestions = translator.get_glossary_suggestions(min_frequency=5)

print(f"–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç {len(suggestions)} –Ω–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤:")
for s in suggestions:
    print(f"  {s.source_text} (–≤—Å—Ç—Ä–µ—á–∞–ª—Å—è {s.frequency} —Ä–∞–∑)")

# –î–æ–±–∞–≤–∏—Ç—å –≤ –≥–ª–æ—Å—Å–∞—Ä–∏–π –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
for s in suggestions[:10]:  # –¢–æ–ø-10
    glossary.add_entry(s.source_text, s.translated_text, ...)
```

### –ü—Ä–∏–º–µ—Ä 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```python
# –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
stats = translator.get_statistics()

print("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:")
print(f"  –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {stats['total_entries']}")
print(f"  –í—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π: {stats['total_usage']}")
print(f"  –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: {stats['average_quality']:.1%}")

# –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—ç—à–∞
cache_hit_rate = result.cached_segments / len(result.segments)
print(f"  –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—ç—à–∞: {cache_hit_rate:.1%}")

# –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è —ç–∫–æ–Ω–æ–º–∏—è
estimated_savings = cache_hit_rate * expected_monthly_cost
print(f"  –ü—Ä–æ–≥–Ω–æ–∑ —ç–∫–æ–Ω–æ–º–∏–∏ –≤ –º–µ—Å—è—Ü: ${estimated_savings:.2f}")
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–º—è—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```python
# ‚úì –•–æ—Ä–æ—à–æ
memory = TranslationMemory("data/cache.json")
translator = GlossaryTranslator(orchestrator, glossary, memory=memory)

# ‚úó –ü–ª–æ—Ö–æ
translator = GlossaryTranslator(orchestrator, glossary)  # –ë–µ–∑ –∫—ç—à–∞
```

### 2. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø–∞–º—è—Ç—å

```python
# –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –±–æ–ª—å—à–æ–π –ø–∞—Ä—Ç–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
for batch in document_batches:
    result = translator.translate(batch, "en")
    translator.save_memory()  # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –¥–∏—Å–∫
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤

```python
# –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
suggestions = translator.get_glossary_suggestions(min_frequency=10)
if suggestions:
    print(f"–ù–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –¥–ª—è –≥–ª–æ—Å—Å–∞—Ä–∏—è: {len(suggestions)}")
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω—É–∂–Ω—ã–µ
```

### 4. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

```python
# –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
stats = translator.get_statistics()
cache_efficiency = stats['total_usage'] / stats['total_entries']

if cache_efficiency < 2.0:
    print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –Ω–∏–∑–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—ç—à–∞")
    print("–í–æ–∑–º–æ–∂–Ω–æ, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤")
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∞–º–æ–æ–±—É—á–∞—é—â–∞—è—Å—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–∞:

‚úì **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∞–µ—Ç—Å—è** - —á–µ–º –±–æ–ª—å—à–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤, —Ç–µ–º –ª—É—á—à–µ
‚úì **–≠–∫–æ–Ω–æ–º–∏—Ç –¥–µ–Ω—å–≥–∏** - –¥–æ 80% —ç–∫–æ–Ω–æ–º–∏–∏ —á–µ—Ä–µ–∑ –∫—ç—à
‚úì **–≠–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ
‚úì **–ü–æ–≤—ã—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ** - few-shot learning —É–ª—É—á—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
‚úì **–ü–æ–ø–æ–ª–Ω—è–µ—Ç –≥–ª–æ—Å—Å–∞—Ä–∏–π** - –∞–≤—Ç–æ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ TranslationMemory –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!
